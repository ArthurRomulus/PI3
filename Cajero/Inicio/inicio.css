/* ========== VARIABLES ========== */
:root{
  --sidebar-bg: #d6a05c;
  --accent: #c68644;
  --page-bg: #e9bb7b;
  --card-bg: #f6e9db;
  --search-bg: #f3e6c1;
  --text-dark: #332a23;
  --muted: #6a584a;
  --white: #fff;
  --shadow: 0 2px 8px rgba(0,0,0,0.07);
}

/* ========== RESET BASICO Y BODY (CORREGIDO) ========== */
*{box-sizing: border-box}
body{
  margin:0;
  font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: var(--sidebar-bg); /* Color del marco */
  color: var(--text-dark);
}

/* ========== LAYOUT (CORREGIDO) ========== */
.container{
  display: grid;
  grid-template-columns: 90px 1fr 180px;
  height: 100vh;
  gap: 16px;
  padding: 16px; /* Marco visible y uniforme */
  min-width: 900px;
}

/* ========== MAIN ========== */
.main{
  background: var(--page-bg);
  border-radius: 18px;
  min-height: 0;
  display: flex;
  flex-direction: column; /* <-- CAMBIO: Flex vertical */
  overflow: hidden;
  padding: 18px 24px; /* <-- CAMBIO: Padding movido aquí */
}

/* Se eliminó .main-scroll */

/* ========== HEADER Y FILTROS ========== */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom: 18px;
  flex-shrink: 0; /* <-- CAMBIO: No se encoge */
}
.header h1{ font-size:26px; margin:0; color: var(--white); font-weight: 700; letter-spacing: 1px; }
.header .date{ font-weight:500; color: var(--white); font-size: 13px; }


/* ========== PRODUCTOS (DISEÑO PENDÓN ELEGANTE) ========== */
/* Esta clase .products ya no se usa, pero la dejamos por si la búsqueda vuelve */
.products {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 28px; 
  padding: 20px 4px 18px 4px; 
}

.product-card {
  background: var(--text-dark); 
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  cursor: pointer;
  position: relative; 
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  padding-bottom: 20px; 
}

.product-card:hover {
  transform: scale(1.03);
  z-index: 10;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
}

.product-img {
  width: 100%;
  height: 160px;
  overflow: hidden;
  border-radius: 12px 12px 0 0; 
}

.product-img img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.product-tag {
  position: relative; 
  background: var(--card-bg); 
  color: var(--text-dark);   
  margin: 0 10px; 
  padding: 12px 14px 14px;
  border-radius: 6px;
  margin-top: -25px; 
  z-index: 5;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  display: flex;
  flex-direction: column;
  height: 140px; 
}

.product-tag::after {
  content: '';
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  bottom: -16px; 
  border-left: 20px solid transparent;
  border-right: 20px solid transparent;
  border-top: 16px solid var(--card-bg); 
}

.product-tag .product-title {
  text-align: left;
  font-size: 16px;
  font-weight: 600;
  margin: 0 0 4px 0;
  color: var(--text-dark); 
}

.product-tag .product-sub {
  text-align: left;
  font-size: 12px;
  color: var(--muted); 
  margin: 0;
  flex-grow: 1;
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2; 
  text-overflow: ellipsis;
}

.product-tag .product-footer {
  margin-top: 8px;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.product-tag .price {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-dark); 
}

.product-tag .add-btn {
  background: var(--text-dark); 
  color: var(--white);
  border: none;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  font-size: 24px;
  font-weight: 300;
  line-height: 1;
  padding: 0;
  cursor: pointer;
  box-shadow: none;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background .15s;
}

.product-tag .add-btn:hover {
  background: var(--accent); 
}

/* ========== CART / PEDIDO ========== */
.cart{
  padding:12px 6px 12px 6px;
  background: var(--page-bg);
  border-radius: 14px;
  min-height: 0;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
  max-width: 180px;
  position: relative;
  z-index: 2;
}
.order-pill{
  background: var(--search-bg);
  padding:8px 4px;
  border-radius:14px;
  text-align:center;
  margin-bottom:8px;
  box-shadow: var(--shadow);
}
.order-title{
  font-weight:700;
  color:var(--text-dark);
  font-size:13px;
}
.order-number{
  font-size:17px;
  margin-top:4px;
  font-weight:800;
  color:var(--text-dark);
}
.cart-content{
  margin-top:0;
  display:flex;
  flex-direction:column;
  gap:8px;
  flex: 1 1 auto;
  overflow-y: auto;
  min-height: 40px;
}
.cart-item{
  display:flex;
  gap:6px;
  align-items:center;
  background: var(--card-bg);
  padding:6px;
  border-radius:8px;
  box-shadow: var(--shadow);
}
.cart-thumb{
  width:32px;
  height:32px;
  border-radius:6px;
  overflow:hidden;
  background: #e9bb7b;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.cart-thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
.cart-info{ flex:1; }
.cart-title{ font-weight:700; font-size:11px; margin-bottom:2px; }
.cart-desc{ color:var(--muted); margin-bottom:2px; font-size: 10px; line-height: 1.2; }
.cart-price{ font-weight:700; font-size: 11px; }
.cart-qty{
  display:flex;
  align-items:center;
  gap:2px;
}
.qty-btn-cart{
  background:var(--accent);
  color:#fff;
  border:none;
  padding:2px 5px;
  border-radius:5px;
  cursor:pointer;
  font-weight:700;
  font-size: 12px;
  transition: background .15s;
}
.qty-btn-cart:hover{
  background: #a86d2a;
}
.qty-num{
  font-size: 12px;
  font-weight: 700;
  min-width: 14px;
  text-align: center;
}
.summary{
  margin-top:4px;
  display:flex;
  flex-direction:column;
  gap:4px;
  padding:4px 2px;
  background: var(--search-bg);
  border-radius: 8px;
  font-size: 11px;
}
.summary .row{
  display:flex;
  justify-content:space-between;
  color:var(--text-dark);
}
.summary .total{
  font-weight:800;
  font-size:13px;
  margin-top:2px;
  display: flex;
  justify-content: space-between;
}
.pay{
  margin-top:6px;
  width:100%;
  background:var(--accent);
  color:white;
  font-weight:800;
  padding:8px 0;
  border:none;
  border-radius:12px;
  box-shadow: var(--shadow);
  cursor:pointer;
  font-size:13px;
  transition: background .2s ease;
}
.pay:hover{
  background: #a86d2a;
}


/* ========== RESPONSIVE ========== */
@media (max-width: 900px){
  .container{ grid-template-columns: 70px 1fr; }
  .cart{ display:none; }
}
@media (max-width: 720px){
  body { padding: 0; }
  .container{ grid-template-columns: 1fr; min-width: 0; gap: 0; padding: 0;}
  .sidebar{ display:none; }
  .main, .cart { border-radius: 0; }
  .header h1{ font-size:18px; }
  .products{ grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); }
}

/* ========== NUEVOS ESTILOS DE CARRUSEL VERTICAL ========== */
#vertical-carousel {
  flex-grow: 1; /* Ocupa todo el espacio restante */
  min-height: 0; /* Clave para que flexbox funcione con slick */
  height: 100%;
  width: calc(100% + 48px); /* Compensa el padding de .main */
  margin: 0 -24px -18px; /* Compensa el padding de .main */
}

#vertical-carousel .slick-list,
#vertical-carousel .slick-track {
  height: 100%;
}

.carousel-section {
  height: 100%; 
  /* CAMBIO: Añadido 20px arriba y 40px abajo */
  padding: 30px 24px 100px 24px; 
  display: flex !important; 
  flex-direction: column;
}

.carousel-section h2 {
  font-size: 20px;
  font-weight: 700;
  color: var(--white);
  margin: 0 0 12px 0;
  letter-spacing: 0.5px;
  flex-shrink: 0; /* El título no se encoge */
}

.carousel-track {
  flex-grow: 1; /* El carrusel horizontal ocupa el espacio restante */
  min-height: 0; /* Clave para que slick funcione dentro de flex */
  display: flex;
}

/* Tarjetas dentro del carrusel horizontal */
/* Ajustes a las tarjetas DENTRO del carrusel */
.carousel-track .product-card {
  margin: 4px 10px; /* Espacio para la sombra y entre tarjetas */
}

/* Flechas del carrusel HORIZONTAL */
.carousel-track .slick-prev, 
.carousel-track .slick-next {
  width: 30px;
  height: 30px;
  background: var(--accent) !important;
  border-radius: 50%;
  z-index: 10;
}
.carousel-track .slick-prev:hover, 
.carousel-track .slick-next:hover {
  background: #a86d2a !important;
}
.carousel-track .slick-prev { left: -10px; }
.carousel-track .slick-next { right: -10px; }

.carousel-track .slick-prev::before, 
.carousel-track .slick-next::before {
  font-size: 16px;
  line-height: 1;
  opacity: 1;
  color: white !important;
}

/* Puntos de navegación del carrusel VERTICAL */
#vertical-carousel .slick-dots {
  position: absolute;
  top: 50%;
  right: 8px; /* A la derecha */
  transform: translateY(-50%) translateX(10px);
  width: auto;
  bottom: auto;
  display: flex !important;
  flex-direction: column; /* Puntos en vertical */
}


#vertical-carousel .slick-dots li {
  display: block;
  margin: 8px 0;
}

#vertical-carousel .slick-dots li button {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  opacity: 0.5;
  padding: 0;
}

#vertical-carousel .slick-dots li button::before {
  content: '';
}

#vertical-carousel .slick-dots li.slick-active button {
  opacity: 1;
}

/* --- NUEVO: Colores únicos para cada punto --- */
#vertical-carousel .slick-dots li:nth-child(1) button {
  background-color: #ffffff; /* Color para Promociones (Ej: Rojo) */
}
#vertical-carousel .slick-dots li:nth-child(2) button {
  background-color: #ffffff; /* Color para Bebidas (Ej: Azul) */
}
#vertical-carousel .slick-dots li:nth-child(3) button {
  background-color: #ffffff; /* Color para Comida (Ej: Verde) */
}


/* --- ESTILOS PARA EL HIGHLIGHT --- */
/* (Lo dejamos aquí por si se necesita para la búsqueda) */
.product-highlight {
  animation: jump-highlight 0.8s ease-out;
}
@keyframes jump-highlight {
  0% {
    transform: scale(1);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }
  30% {
    transform: scale(1.05); 
    box-shadow: 0 10px 30px rgba(198, 134, 68, 0.7); 
  }
  100% {
    transform: scale(1);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }
}